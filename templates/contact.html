{% extends 'base.html' %}
{% load static %}
{% block title %}Contact{% endblock %}
{% block content %}
    <!-- Contact Section -->
    <section id="contact" class="contact section">

        <!-- Section Title -->
        <div class="container section-title" data-aos="fade-up">
          <h2>Contact</h2>
          <div><span>Check Our</span> <span class="description-title">Contact</span></div>
        </div><!-- End Section Title -->
  
        <div class="mb-5">
          <iframe style="width: 100%; height: 400px;" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d31838.6509653533!2d39.62301703574218!3d-4.054787817331333!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x184012d0831acda5%3A0x80407eaf6a327a7f!2sIsland%2C%20Mombasa!5e0!3m2!1sen!2ske!4v1736557886928!5m2!1sen!2ske" frameborder="0" allowfullscreen=""></iframe>
        </div><!-- End Google Maps -->
  
        <div class="container" data-aos="fade">
  
          <div class="row gy-5 gx-lg-5">
  
            <div class="col-lg-4">
  
              <div class="info">
                <h3>Get in touch</h3>
                <p>Et id eius voluptates atque nihil voluptatem enim in tempore minima sit ad mollitia commodi minus.</p>
  
                <div class="info-item d-flex">
                  <i class="bi bi-geo-alt flex-shrink-0"></i>
                  <div>
                    <h4>Location:</h4>
                    <p>A108 Adam Street, New York, NY 535022</p>
                  </div>
                </div><!-- End Info Item -->
  
                <div class="info-item d-flex">
                  <i class="bi bi-envelope flex-shrink-0"></i>
                  <div>
                    <h4>Email:</h4>
                    <p>info@example.com</p>
                  </div>
                </div><!-- End Info Item -->
  
                <div class="info-item d-flex">
                  <i class="bi bi-phone flex-shrink-0"></i>
                  <div>
                    <h4>Call:</h4>
                    <p>+1 5589 55488 55</p>
                  </div>
                </div><!-- End Info Item -->
  
              </div>
  
            </div>
  
            <div class="col-lg-8">
              <form action="{% url 'restaurant_app:contact' %}" method="post" role="form" class="">
                {% csrf_token %}
                <div class="row">
                  <div class="col-md-6 form-group">
                    <input type="text" name="name" class="form-control" id="name1" placeholder="Your Name" required="">
                  </div>
                  <div class="col-md-6 form-group mt-3 mt-md-0">
                    <input type="email" class="form-control" name="email" id="email1" placeholder="Your Email" required="">
                  </div>
                </div>
                <div class="form-group mt-3">
                  <input type="text" class="form-control" name="subject" id="subject1" placeholder="Subject" required="">
                </div>
                <div class="form-group mt-3">
                  <textarea class="form-control" name="message" placeholder="Message" required=""></textarea>
                </div>
                <div class="my-3">
                  <div class="loading">Loading</div>
                  <div class="error-message"></div>
                  <div class="sent-message"></div>
                </div>
                <button type="submit" style="background-color: #d4a017; color: white; border: none; padding: 10px 20px; font-size: 16px; cursor: pointer; border-radius: 5px;">Send Message</button>

                         <!-- Add elements expected by JS -->
    <div class="loading" style="display: none;">Submitting...</div>
    <div class="error-message" style="display: none;"></div>
    <div class="sent-message" style="display: none;">Your message has been sent!</div>
              </form>

              {% for message in messages %}
    <p style="color: green;">{{ message }}</p>
{% endfor %}

<!-- <h2>Previous Messages</h2> -->
<ul>
    {% for contact in contacts %}
        <li><strong>{{ contact.name }}</strong>: {{ contact.message }} 
            <a href="{% url 'restaurant_app:contact_detail' contact.id %}">View</a>
        </li>
    {% endfor %}
</ul>
            </div><!-- End Contact Form -->
  
          </div>
  
        </div>
  
      </section><!-- /Contact Section -->

      {% endblock %}