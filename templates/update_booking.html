{% extends 'base.html' %}
{% load static %}
{% block content %}
  <div class="container mt-5">
    <div class="row justify-content-center">
      <div class="col-lg-8 col-md-10 col-sm-12">
        <div class="card shadow-lg">
          <div class="card-header bg-primary text-white text-center">
            <h3>Update Book a Table</h3>
          </div>
          <div class="container">
            <div class="row g-0" data-aos="fade-up" data-aos-delay="100">
              <div class="col-lg-4 reservation-img" style="background-image: url(assets/img/reservation.jpg);"></div>
              <div class="col-lg-8 d-flex align-items-center reservation-form-bg" data-aos="fade-up" data-aos-delay="200">
                {% if booking.user == request.user %}
                <form action="{% url 'restaurant_app:update_booking' booking.id %}" method="POST">
                  {% csrf_token %}
                  <div class="row gy-4">
                    <div class="col-lg-4 col-md-6">
                      <input type="text" name="name" class="form-control" id="name" placeholder="Your Name" value="{{ booking.name }}" required="">
                    </div>
                    <div class="col-lg-4 col-md-6">
                      <input type="email" class="form-control" name="email" id="email" placeholder="Your Email" value="{{ booking.email }}" required="">
                    </div>
                    <div class="col-lg-4 col-md-6">
                      <input type="text" class="form-control" name="phone" id="phone" placeholder="Your Phone" value="{{ booking.phone }}" required="">
                    </div>
                    <div class="col-lg-4 col-md-6">
                      <input type="date" name="date" class="form-control" id="date" value="{{ booking.date }}" required="">
                    </div>
                    <div class="col-lg-4 col-md-6">
                      <input type="time" class="form-control" name="time" id="time" value="{{ booking.time }}" required="">
                    </div>
                    <div class="col-lg-4 col-md-6">
                      <input type="number" class="form-control" name="people" id="people" placeholder="# of people" value="{{ booking.people }}" required="">
                    </div>
                  </div>
                  <div class="form-group mt-3">
                    <textarea class="form-control" name="message" rows="5" placeholder="Message">{{ booking.message }}</textarea>
                  </div>
                  <div class="text-center mt-3">
                    <div class="loading">Loading</div>
                    <div class="error-message"></div>
                    <div class="sent-message">Your booking request was sent. We will call back or send an Email to confirm your reservation. Thank you!</div>
                    <button type="submit">Update Booking</button>
                  </div>
                </form>
                {% else %}
                <p class="text-danger text-center">You are not authorized to edit this booking.</p>
                {% endif %}
              </div><!-- End Reservation Form -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
